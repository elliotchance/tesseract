tests:
  create_notification:
    sql: CREATE NOTIFICATION foo ON some_table

  notification_will_be_fired_for_insert:
    sql:
    - CREATE NOTIFICATION foo ON some_table
    - 'INSERT INTO some_table {"a": "b"}'
    notification:
      to: foo
      with: {"a": "b"}

  notification_only_fires_for_watched_table:
    sql:
    - CREATE NOTIFICATION foo ON some_table
    - 'INSERT INTO some_other_table {"a": "b"}'
    notification: []

  create_notification_that_already_exists:
    sql:
    - CREATE NOTIFICATION foo ON some_table
    - CREATE NOTIFICATION foo ON some_table
    error: Notification 'foo' already exists.
