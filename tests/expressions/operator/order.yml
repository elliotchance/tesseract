# Refer to http://www.postgresql.org/docs/7.2/static/sql-precedence.html

tests:
  # unary minus
  unary_minus_before_power:
    sql: SELECT 10 ^ - 2
    as: SELECT 10 ^ -2
    result:
    - {"col1": 0.01}

  # power
  power_before_multiply:
    sql: SELECT 3 * 2 ^ 2
    result:
    - {"col1": 12}

  power_before_multiply_group:
    sql: SELECT (3 * 2) ^ 2
    result:
    - {"col1": 36}

  power_before_divide:
    sql: SELECT 3 / 2 ^ 2
    result:
    - {"col1": 0.75}

  power_before_modulo:
    sql: SELECT 3 % 2 ^ 2
    result:
    - {"col1": 3}

  # multiply divide modulo
  multiply_before_add:
    sql: SELECT 3 + 2 * 2
    result:
    - {"col1": 7}

  multiply_before_subtract:
    sql: SELECT 3 - 2 * 2
    result:
    - {"col1": -1}

  divide_before_add:
    sql: SELECT 3 + 2 / 2
    result:
    - {"col1": 4}

  divide_before_subtract:
    sql: SELECT 3 - 2 / 2
    result:
    - {"col1": 2}

  modulo_before_add:
    sql: SELECT 3 + 3 % 2
    result:
    - {"col1": 4}

  modulo_before_subtract:
    sql: SELECT 3 - 3 % 2
    result:
    - {"col1": 2}

  # less greater
  plus_before_less:
    sql: SELECT 3 < 2 + 3
    result:
    - {"col1": true}

  plus_before_greater:
    sql: SELECT 3 > 2 + 3
    result:
    - {"col1": false}

  plus_before_less_equal:
    sql: SELECT 3 <= 2 + 3
    result:
    - {"col1": true}

  plus_before_greater_equal:
    sql: SELECT 3 >= 2 + 3
    result:
    - {"col1": false}

  subtract_before_less:
    sql: SELECT 3 < 2 - 3
    result:
    - {"col1": false}

  subtract_before_greater:
    sql: SELECT 3 > 2 - 3
    result:
    - {"col1": true}

  subtract_before_less_equal:
    sql: SELECT 3 <= 2 - 3
    result:
    - {"col1": false}

  subtract_before_greater_equal:
    sql: SELECT 3 >= 2 - 3
    result:
    - {"col1": true}

  # equal
  is_before_equal:
    sql: SELECT true = 3 IS number
    result:
    - {"col1": true}

  # not
  equal_before_not:
    sql: SELECT NOT 3 = 3
    result:
    - {"col1": false}

  # and
  not_before_and:
    sql: SELECT true AND NOT false
    result:
    - {"col1": true}

  # or
  and_before_or:
    sql: SELECT false OR true AND false
    result:
    - {"col1": false}
