tags: transaction

data:
  empty: []

tests:
  parser_start_transaction:
    sql: START TRANSACTION

  parser_begin:
    sql: BEGIN
    as: START TRANSACTION

  parser_begin_transaction:
    sql: BEGIN TRANSACTION
    as: START TRANSACTION

  parser_begin_work:
    sql: BEGIN WORK
    as: START TRANSACTION

  parser_commit:
    sql: COMMIT

  parser_commit_transaction:
    sql: COMMIT TRANSACTION
    as: COMMIT

  parser_commit_work:
    sql: COMMIT WORK
    as: COMMIT

  parser_rollback:
    sql: ROLLBACK

  parser_rollback_transaction:
    sql: ROLLBACK TRANSACTION
    as: ROLLBACK

  parser_rollback_work:
    sql: ROLLBACK WORK
    as: ROLLBACK

  rollback_insert:
    data: empty
    sql:
    - START TRANSACTION
    - 'INSERT INTO empty {"foo": "bar"}'
    - ROLLBACK
    - SELECT * FROM empty
    result: []
